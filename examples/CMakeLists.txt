if(USE_RAPIDJSON)
    file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/serializer_example/*.cpp)
    add_executable(cppelix_serializer_example ${EXAMPLE_SOURCES})
    target_link_libraries(cppelix_serializer_example ${CMAKE_THREAD_LIBS_INIT})
    target_link_libraries(cppelix_serializer_example cppelix)
endif()

file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/tracker_example/*.cpp)
add_executable(cppelix_tracker_example ${EXAMPLE_SOURCES})
target_link_libraries(cppelix_tracker_example ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(cppelix_tracker_example cppelix)

if(USE_RAPIDJSON)
	file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/tcp_example/*.cpp)
	add_executable(cppelix_tcp_example ${EXAMPLE_SOURCES})
	target_link_libraries(cppelix_tcp_example ${CMAKE_THREAD_LIBS_INIT})
	target_link_libraries(cppelix_tcp_example cppelix)
endif()

file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/timer_example/*.cpp)
add_executable(cppelix_timer_example ${EXAMPLE_SOURCES})
target_link_libraries(cppelix_timer_example ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(cppelix_timer_example cppelix)

file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/yielding_timer_example/*.cpp)
add_executable(cppelix_yielding_timer_example ${EXAMPLE_SOURCES})
target_link_libraries(cppelix_yielding_timer_example ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(cppelix_yielding_timer_example cppelix)

file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/multithreaded_example/*.cpp)
add_executable(cppelix_multithreaded_example ${EXAMPLE_SOURCES})
target_link_libraries(cppelix_multithreaded_example ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(cppelix_multithreaded_example cppelix)

file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/event_statistics_example/*.cpp)
add_executable(cppelix_event_statistics_example ${EXAMPLE_SOURCES})
target_link_libraries(cppelix_event_statistics_example ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(cppelix_event_statistics_example cppelix)

file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/optional_dependency_example/*.cpp)
add_executable(cppelix_optional_dependency_example ${EXAMPLE_SOURCES})
target_link_libraries(cppelix_optional_dependency_example ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(cppelix_optional_dependency_example cppelix)

if(USE_ETCD)
    file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/etcd_example/*.cpp)
    add_executable(cppelix_etcd_example ${EXAMPLE_SOURCES})
    target_link_libraries(cppelix_etcd_example ${CMAKE_THREAD_LIBS_INIT})
    target_link_libraries(cppelix_etcd_example cppelix)
endif()

if(USE_BOOST_BEAST)
    file(GLOB_RECURSE EXAMPLE_SOURCES ${TOP_DIR}/examples/websocket_example/*.cpp)
    add_executable(cppelix_websocket_example ${EXAMPLE_SOURCES})
    target_link_libraries(cppelix_websocket_example ${CMAKE_THREAD_LIBS_INIT})
    target_link_libraries(cppelix_websocket_example cppelix)
endif()